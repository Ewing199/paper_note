[TOC]
# HDMI02_EAS模块
## 1.网管页面
**首先需要在背板开启ATSC模式才会显示该模块**
在EAS参数模块，需要对应设置与EAS的多播端口，并且勾选相应的需要垫播的频道
![](/uploads/share_project/images/m_a76e537280fd6621563625fd9c9d8559_r.png)

## 2.代码实现
![](/uploads/share_project/images/m_ca7cbb27902becbdd3ee0d76ee901b6f_r.png)
### 2.1 写垫播复用表
将EAS自带的流信息：流号（默认写为1），VideoPID,AudioPID,PCRPID，改为需要垫播通路的相关信息，其中需要特别注意PCRPID信息。
#### PCRPID由于存在两种模式：
1.PCRPID与VIDEOPID共用（PCRPID:103,VIDEOPID:103）
2.PCRPID与VIDEOPID共用（PCRPID:104,VIDEOPID:103）
提供**EAS_GetPCRPID（）**方法统一EAS和HDMI02的共用类型
### 2.2 写垫播逻辑通路
首先需要知道子板的逻辑通道输出，以HDMI02为例：
#### 原数据流图（软编CC字幕的方法）
![](/uploads/share_project/images/m_d9c8968e7edf4c70ed0907299b2cebf1_r.png)
#### 垫播数据流图
选择第一路垫播

### 2.3重构PMT信息
将EAS的VIDEO_TYPE,AUDIO_TYPE,PCR_PID信息发送到背板，保证复用输出正常（目前只）